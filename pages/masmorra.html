<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/style.css">
    
</head>
<body>
    <div class="blocoDeAventura">
        <div id="andar"></div>
        <div id="monstros"></div>
        <button class="botao" onclick="golpe()">Atacar</button>
    </div>
</body>
<script>
    function deusaDosNumerosAleatorios(){ // A Maldita deusa dos numeros aleatorios
       return Math.floor(Math.random()*10)+1;
    }


    const urlParams = new URLSearchParams(window.location.search);
    let nome = urlParams.get("nome");
    let forca = urlParams.get("forca");
    let defesa = urlParams.get("defesa");
    let sorte = urlParams.get("sorte");
    let vidaHeroi = 100;
    const inimigos = {
        "Goblin": { vida: 10, defesa: 3, ataque: 2},
        "Goblin_batedor": { vida: 10, defesa: 2, ataque: 4},
        "Serpe": { vida: 15, defesa: 5, ataque: 3}
    }

    const inimigosN2 = {

    }


    let inimigosAbatidos = 0
    function golpe(ataque, defesa, sorte=0){
        let dano = ataque - defesa;
        if (dano <= 0){
            dano = 1
        }
        if (sorte) {
            if (deusaDosNumerosAleatorios() <= sorte){
                dano*=2
            }
        }
        return dano
    }

    document.getElementById("andar").innerHTML = `
        <div class="titulo">
           <h1>Herói: ${nome}</h1>
           <p>Vida: ${vidaHeroi}|Força: ${forca}|Defesa:${defesa}|Sorte: ${sorte}</p>
           
        </div>
        <p id="aventura"></p>`;
    let inimigo = Object.keys(inimigos); // coleta o nomes dos inimigos
    let inimigoDoAndar = inimigo[inimigosAbatidos]
    document.getElementById("monstros").innerHTML = `
    <h2>Monstro: ${inimigoDoAndar} </h2>
    <p>Vida: ${inimigos[inimigoDoAndar]["vida"]}|Força: ${inimigos[inimigoDoAndar]["ataque"]}|Defesa:${inimigos[inimigoDoAndar]["defesa"]}|Especial: ${inimigos[inimigoDoAndar]["especial"]}</p>
    `;
    let vidaInimigo = inimigos[inimigoDoAndar]["vida"];
        
    /*while (vidaInimigo > 0 && vidaHeroi > 0){
        vidaHeroi-=golpe(forca, inimigos[inimigoDoAndar]["defesa"], sorte);
        vidaInimigo-=golpe(inimigos[inimigoDoAndar]["ataque"], defesa)

    }*/
    
    
    
    


</script>
</html>